<<
expand file="/apps/clear/clear.lib" /expand
function nows() do return now+':'+right('x00'+tagresults[7],2) /return /function
updates=0
>>
<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <title>Simple AJAX demo</title>
  <link rel="stylesheet" href="/apps/clear/demonstration/style.css" type="text/css" media="screen" />
  <link rel="shortcut icon" type="image/x-icon" href="/apps/clear/demonstration/images/favicon.ico"/>
  <link rel="icon" type="image/png" href="/apps/clear/demonstration/images/favicon.png"/>
  <script src="<<syspublicurl>>/apps/clear/clear.js"></script>
  <script>
   timer=setInterval("CLEAR.f.runOverlay('<<getlink('doit')>>');",5000);
  </script>
 </head>
 <body>
  <div id="page-container">
   <div id="demo">
    <a href="http://clearjs.org">Home</a> | 
    <<ci_edit2(page,800,600,'View Source','READONLY')>><br>
    <h1>Time at Server. Updates about every 5 seconds.</h1>
    <div id="mydiv">
     [SERVER TIME GOES HERE (wait 5 seconds)]
    </div>
   </div>
  </div>
 </body>
</html>
<<overlay doit
 updates=updates+1
 writeHTML('mydiv','Update #'+updates+' Time: '+nows())
 endoverlay()
>>