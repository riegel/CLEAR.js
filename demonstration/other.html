<< # This will only run under clearjs.org /# >>
<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <title>Will CLEAR.js run in other environments?</title>
  <link rel="stylesheet" href="/apps/clear/demonstration/style.css" type="text/css" media="screen" />
  <link rel="shortcut icon" type="image/x-icon" href="/apps/clear/demonstration/images/favicon.ico"/>
  <link rel="icon" type="image/png" href="/apps/clear/demonstration/images/favicon.png"/>
  <style>
   ul     {padding-top: 15px;}
   li     {width:100%}
   p.body {padding-top: 15px;}
   pre    {border: 1px solid black; padding: 10px; background-color: white; font-size: 10pt;}
  </style>
 </head>
 <body>
  <div id="page-container">
   <div id="header">
    <h1>CLEAR.js, AJAX Library for HTML/OS</h1>
    <p><span>What if I am not using HTML/OS, can this AJAX Library be used in other environments?</span></p>
   </div>
   <div id="content" style="margin: 120px; margin-top: 60px; font-size: 13pt;">

    <p class="body">
     Can this AJAX Library be used in other environments?
    </p>
    <p class="body">
     Sure. Even though it was specifically written for the HTML/OS environment there is nothing that should stop you from using it in other environments.
    </p>
    <p class="body">
     Strictly speaking what CLEAR.js does is AJAX enable the forms, form elements, and anchors on any existing web page. It then sends the form, or the form associated with the element, or the link to the server. It expects the server to respond with valid Javascript. By convention it expects the first line of that Javascript to be //CLEAR.js
    </p>
    <p class="body">
     On the server side it can determine if the request is for a regular HTML resource by looking for a parameter called ajaxrequest, if ajaxrequest is true then the server knows to return javascript, otherwise it should return html.
    </p>
    <p class="body">
     Suppose you have a web 1.0 site that works. And you decide you want to spice it up a bit. If you can detect what is coming in at the server then you can AJAX enable it quickly.
    </p>
    <p class="body">
     When a request comes in (at the server) determine if the variable ajaxrequest=true. If it is then you can deliver the javascript back to update the part that needs it. Otherwise you deliver the page asked for.
    </p>
    <p class="body">
     Here is a non-HTML/OS example that you can see. This example only serves static pages so it can't actually determine how the request was sent with/without ajaxrequest=true, but the exampe does show how the CLAER.js library handles the responses.
    </p><br>
    <a href="http://clearjs.org/apps/clear/demonstration/demo.php">Demo</a>

<pre>
&lt;?php
 $ajaxrequest = $_POST['ajaxrequest'] || $ajaxrequest = $_GET['ajaxrequest'];
 $a=$_POST['myname'];
 if ($ajaxrequest=="TRUE") {
  $ajaxrequest=NULL;
  echo "//clear\n";
  echo "CLEAR.f.$('message').innerHTML='This Was deliverd via AJAX! Hello $a';\n";
  exit();
 }
?&gt;


&lt;!-- Engine: Custom PERL or PHP or Python or ??? --&gt;
&lt;!doctype html&gt;
&lt;html lang="en"&gt;
 &lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;PHP Demo&lt;/title&gt;
  &lt;script src="http://clearjs.org/apps/clear/clear.js"&gt;&lt;/script&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;a href="http://clearjs.org"&gt;Home&lt;/a&gt;&lt;hr&gt;
  &lt;form action="demo.php" method="post" AJAX&gt;
   &lt;input type="text" name="myname" AJAX&gt;
   &lt;input type="submit" name="mybutton" value="submit"&gt;
  &lt;/form&gt;
  &lt;hr&gt;&lt;a href="demo.php" AJAX&gt;Try this (AJAX)&lt;/a&gt; | &lt;a href="demo.php"&gt;Try this (NOAJAX)&lt;/a&gt;
  &lt;div id="message"&gt;Message Area&lt;/div&gt;&lt;hr&gt;
 &lt;/body&gt;
&lt;/html&gt;
</pre>



    <h2 style="padding-top: 50px;"><center>CLEAR.js is currently in beta. I am currently adding it to much of my existing HTML/OS code. If you have a project you would like to try it on I would love to help. I want to make CLEAR.js even better. Contact me: riegel@clearimageonline.com</center></h2>
 

   </div>
  </div>
 </body>
</html>